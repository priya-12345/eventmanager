{"ast":null,"code":"import _defineProperty from\"C:\\\\Projects\\\\eventfinder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"C:\\\\Projects\\\\eventfinder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Projects\\\\eventfinder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\Projects\\\\eventfinder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Projects\\\\eventfinder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Projects\\\\eventfinder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Projects\\\\eventfinder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Consumer}from'../../context';import TextInputGroup from'../layout/TextInputGroup';//import {v1 as uuid} from 'uuid';\nimport axios from'axios';var AddEvent=/*#__PURE__*/function(_Component){_inherits(AddEvent,_Component);var _super=_createSuper(AddEvent);function AddEvent(){var _this;_classCallCheck(this,AddEvent);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={name:'',description:'',location:'',errors:{}};_this.onSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch,e){var _this$state,name,description,location,newEvent,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_this$state=_this.state,name=_this$state.name,description=_this$state.description,location=_this$state.location;//check for errors\nif(!(name==='')){_context.next=5;break;}_this.setState({errors:{name:'Name is required'}});return _context.abrupt(\"return\");case 5:if(!(description==='')){_context.next=8;break;}_this.setState({errors:{description:'Description is required'}});return _context.abrupt(\"return\");case 8:if(!(location==='')){_context.next=11;break;}_this.setState({errors:{location:'Location is required'}});return _context.abrupt(\"return\");case 11:newEvent={//id:uuid(),\nname:name,description:description,location:location};_context.next=14;return axios.post('https://my-json-server.typicode.com/priya-12345/EventData/events/',newEvent);case 14:res=_context.sent;dispatch({type:'ADD_EVENT',payload:res.data});_this.setState({name:'',description:'',location:'',errors:{}});_this.props.history.push('/');case 18:case\"end\":return _context.stop();}}},_callee);}));return function(_x,_x2){return _ref.apply(this,arguments);};}();_this.onChange=function(e){return _this.setState(_defineProperty({},e.target.name,e.target.value));};return _this;}_createClass(AddEvent,[{key:\"render\",value:function render(){var _this2=this;var _this$state2=this.state,name=_this$state2.name,description=_this$state2.description,location=_this$state2.location,errors=_this$state2.errors;return/*#__PURE__*/React.createElement(Consumer,null,function(value){var dispatch=value.dispatch;return/*#__PURE__*/React.createElement(\"div\",{className:\"card mb-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-header\"},\"Add Event\"),/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:_this2.onSubmit.bind(_this2,dispatch)},/*#__PURE__*/React.createElement(TextInputGroup,{label:\"Name\",name:\"name\",placeholder:\"Enter Name\",value:name,onChange:_this2.onChange,errors:errors.name}),/*#__PURE__*/React.createElement(TextInputGroup,{label:\"Description\",name:\"description\",placeholder:\"Enter Description\",value:description,onChange:_this2.onChange,errors:errors.description}),/*#__PURE__*/React.createElement(TextInputGroup,{label:\"Location\",name:\"location\",placeholder:\"Enter Location\",value:location,onChange:_this2.onChange,errors:errors.location}),/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",value:\"Add Event\",className:\"btn btn-light btn-block\"}))));});}}]);return AddEvent;}(Component);export default AddEvent;","map":{"version":3,"sources":["C:/Projects/eventfinder/src/components/events/AddEvent.js"],"names":["React","Component","Consumer","TextInputGroup","axios","AddEvent","state","name","description","location","errors","onSubmit","dispatch","e","preventDefault","setState","newEvent","post","res","type","payload","data","props","history","push","onChange","target","value","bind"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport {Consumer} from '../../context';\r\nimport TextInputGroup from '../layout/TextInputGroup';\r\n//import {v1 as uuid} from 'uuid';\r\nimport axios from 'axios';\r\n\r\n class AddEvent extends Component {\r\nstate={\r\n    name:'',\r\n    description:'',\r\n    location:'',\r\n    errors:{}\r\n};\r\nonSubmit=async (dispatch,e)=>{\r\n    e.preventDefault();\r\n    const{name,description,location}=this.state;\r\n//check for errors\r\n\r\nif(name===''){\r\n    this.setState({errors: {name:'Name is required'}});\r\n    return;\r\n}\r\n\r\nif(description===''){\r\n    this.setState({errors: {description:'Description is required'}});\r\n    return;\r\n}\r\n\r\nif(location===''){\r\n    this.setState({errors: {location:'Location is required'}});\r\n    return;\r\n}\r\n\r\n\r\n    const newEvent={\r\n        //id:uuid(),\r\n        name,description,location\r\n    };\r\n\r\nconst res=await axios.post('https://my-json-server.typicode.com/priya-12345/EventData/events/',newEvent);\r\n dispatch({type:'ADD_EVENT',payload:res.data});\r\n\r\n\r\n  \r\n    this.setState({\r\n        name:'',\r\n        description:'',\r\n        location:'',\r\n        errors:{}\r\n    });\r\n    this.props.history.push('/');\r\n};\r\nonChange=(e)=>this.setState({[e.target.name]:e.target.value});\r\n\r\n    render() {\r\n        const{ name,description,location,errors}=this.state;\r\n        return(\r\n            <Consumer>\r\n                {value=>{\r\nconst{dispatch}\r\n=value;\r\nreturn(\r\n<div className=\"card mb-3\">\r\n                <div className=\"card-header\">Add Event</div>\r\n                <div className=\"card-body\">\r\n<form onSubmit={this.onSubmit.bind(this,dispatch)}>\r\n<TextInputGroup\r\nlabel=\"Name\"\r\nname=\"name\"\r\nplaceholder=\"Enter Name\"\r\nvalue={name}\r\nonChange={this.onChange}\r\nerrors={errors.name}\r\n/>\r\n\r\n<TextInputGroup\r\nlabel=\"Description\"\r\nname=\"description\"\r\nplaceholder=\"Enter Description\"\r\nvalue={description}\r\nonChange={this.onChange}\r\nerrors={errors.description}\r\n/>\r\n\r\n<TextInputGroup\r\nlabel=\"Location\"\r\nname=\"location\"\r\nplaceholder=\"Enter Location\"\r\nvalue={location}\r\nonChange={this.onChange}\r\nerrors={errors.location}\r\n/>\r\n<input type=\"submit\" value=\"Add Event\" className=\"btn btn-light btn-block\"/>\r\n</form>\r\n                    </div>\r\n            </div>\r\n\r\n)\r\n\r\n                }}\r\n            </Consumer>\r\n        )\r\n        \r\n    }\r\n}\r\n\r\nexport default AddEvent;"]},"metadata":{},"sourceType":"module"}