{"ast":null,"code":"var _jsxFileName = \"C:\\\\Projects\\\\eventfinder\\\\src\\\\components\\\\events\\\\EditEvent.js\";\nimport React, { Component } from 'react'; //import {Consumer} from '../../context';\n\nimport TextInputGroup from '../layout/TextInputGroup'; //import {v1 as uuid} from 'uuid';\n\nimport axios from 'axios';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { getEvent, updateEvent } from '../../actions/eventActions';\n\nclass EditEvent extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      name: '',\n      description: '',\n      location: '',\n      errors: {}\n    };\n\n    this.onSubmit = async (dispatch, e) => {\n      e.preventDefault();\n      const {\n        name,\n        description,\n        location\n      } = this.state; //check for errors\n\n      if (name === '') {\n        this.setState({\n          errors: {\n            name: 'Name is required'\n          }\n        });\n        return;\n      }\n\n      if (description === '') {\n        this.setState({\n          errors: {\n            description: 'Description is required'\n          }\n        });\n        return;\n      }\n\n      if (location === '') {\n        this.setState({\n          errors: {\n            location: 'Location is required'\n          }\n        });\n        return;\n      }\n\n      const updEvent = {\n        name,\n        description,\n        location\n      };\n      const {\n        id\n      } = this.props.match.params; /////UPDATE EVENT////\n\n      /* const res=await axios.put(`https://my-json-server.typicode.com/priya-12345/EventData/events/${id}`,updEvent);\r\n       dispatch({type:'UPDATE_EVENT',payload:res.data});*/\n      //CLEAR STATE\n\n      this.setState({\n        name: '',\n        description: '',\n        location: '',\n        errors: {}\n      });\n      this.props.history.push('/');\n    };\n\n    this.onChange = e => this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps, nextState) {\n    const {\n      name,\n      description,\n      location\n    } = nextProps.event;\n    this.setState({\n      name,\n      description,\n      location\n    });\n  }\n\n  componentDidMount() {\n    const {\n      id\n    } = this.props.match.params;\n    this.props.getEvent(id);\n  }\n\n  render() {\n    const {\n      name,\n      description,\n      location,\n      errors\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 1\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }\n    }, \"Edit Event\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 1\n      }\n    }, /*#__PURE__*/React.createElement(TextInputGroup, {\n      label: \"Name\",\n      name: \"name\",\n      placeholder: \"Enter Name\",\n      value: name,\n      onChange: this.onChange,\n      errors: errors.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 1\n      }\n    }), /*#__PURE__*/React.createElement(TextInputGroup, {\n      label: \"Description\",\n      name: \"description\",\n      placeholder: \"Enter Description\",\n      value: description,\n      onChange: this.onChange,\n      errors: errors.description,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 1\n      }\n    }), /*#__PURE__*/React.createElement(TextInputGroup, {\n      label: \"Location\",\n      name: \"location\",\n      placeholder: \"Enter Location\",\n      value: location,\n      onChange: this.onChange,\n      errors: errors.location,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 1\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Update Event\",\n      className: \"btn btn-light btn-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 1\n      }\n    }))));\n  }\n\n}\n\nEditEvent.propTypes = {\n  event: PropTypes.object.isRequired,\n  getEvent: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n  event: state.event.event\n});\n\nexport default connect()(EditEvent);","map":{"version":3,"sources":["C:/Projects/eventfinder/src/components/events/EditEvent.js"],"names":["React","Component","TextInputGroup","axios","PropTypes","connect","getEvent","updateEvent","EditEvent","state","name","description","location","errors","onSubmit","dispatch","e","preventDefault","setState","updEvent","id","props","match","params","history","push","onChange","target","value","UNSAFE_componentWillReceiveProps","nextProps","nextState","event","componentDidMount","render","propTypes","object","isRequired","func","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n//import {Consumer} from '../../context';\r\nimport TextInputGroup from '../layout/TextInputGroup';\r\n//import {v1 as uuid} from 'uuid';\r\nimport axios from 'axios';\r\nimport PropTypes from 'prop-types';\r\nimport {connect} from 'react-redux';\r\nimport {getEvent,updateEvent} from '../../actions/eventActions';\r\n\r\n\r\n class EditEvent extends Component {\r\nstate={\r\n    name:'',\r\n    description:'',\r\n    location:'',\r\n    errors:{}\r\n};\r\n\r\nUNSAFE_componentWillReceiveProps(nextProps,nextState)\r\n{\r\n    const {name,description,location}=nextProps.event;\r\n    this.setState({\r\n        name, \r\n        description,\r\n        location\r\n    });\r\n\r\n}\r\ncomponentDidMount(){\r\n    const {id}=this.props.match.params;\r\n    this.props.getEvent(id);\r\n}\r\n\r\n\r\nonSubmit=async (dispatch,e)=>{\r\n    e.preventDefault();\r\n    const{name,description,location}=this.state;\r\n//check for errors\r\n\r\nif(name===''){\r\n    this.setState({errors: {name:'Name is required'}});\r\n    return;\r\n}\r\n\r\nif(description===''){\r\n    this.setState({errors: {description:'Description is required'}});\r\n    return;\r\n}\r\n\r\nif(location===''){\r\n    this.setState({errors: {location:'Location is required'}});\r\n    return;\r\n}\r\n\r\nconst updEvent={\r\nname,\r\ndescription,\r\nlocation\r\n\r\n}\r\n   const {id}=this.props.match.params;\r\n\r\n\r\n/////UPDATE EVENT////\r\n\r\n\r\n\r\n\r\n /* const res=await axios.put(`https://my-json-server.typicode.com/priya-12345/EventData/events/${id}`,updEvent);\r\n  dispatch({type:'UPDATE_EVENT',payload:res.data});*/\r\n   \r\n  //CLEAR STATE\r\n  this.setState({\r\n        name:'',\r\n        description:'',\r\n        location:'',\r\n        errors:{}\r\n    });\r\n    this.props.history.push('/');\r\n};\r\nonChange=(e)=>this.setState({[e.target.name]:e.target.value});\r\n\r\n    render() {\r\n        const{ name,description,location,errors}=this.state;\r\n      \r\nreturn(\r\n<div className=\"card mb-3\">\r\n                <div className=\"card-header\">Edit Event</div>\r\n                <div className=\"card-body\">\r\n<form onSubmit={this.onSubmit}>\r\n<TextInputGroup\r\nlabel=\"Name\"\r\nname=\"name\"\r\nplaceholder=\"Enter Name\"\r\nvalue={name}\r\nonChange={this.onChange}\r\nerrors={errors.name}\r\n/>\r\n\r\n<TextInputGroup\r\nlabel=\"Description\"\r\nname=\"description\"\r\nplaceholder=\"Enter Description\"\r\nvalue={description}\r\nonChange={this.onChange}\r\nerrors={errors.description}\r\n/>\r\n\r\n<TextInputGroup\r\nlabel=\"Location\"\r\nname=\"location\"\r\nplaceholder=\"Enter Location\"\r\nvalue={location}\r\nonChange={this.onChange}\r\nerrors={errors.location}\r\n/>\r\n<input type=\"submit\" value=\"Update Event\" className=\"btn btn-light btn-block\"/>\r\n</form>\r\n                    </div>\r\n            </div>\r\n\r\n)\r\n\r\n                }}\r\n   EditEvent.propTypes={\r\n       event:PropTypes.object.isRequired,\r\n       getEvent:PropTypes.func.isRequired\r\n   }\r\n                const mapStateToProps=state=>({\r\n                    event:state.event.event\r\n                });\r\n\r\nexport default connect() (EditEvent);"]},"metadata":{},"sourceType":"module"}