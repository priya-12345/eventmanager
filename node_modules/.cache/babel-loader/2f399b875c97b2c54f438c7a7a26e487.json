{"ast":null,"code":"var _jsxFileName = \"C:\\\\Projects\\\\eventfinder\\\\src\\\\components\\\\events\\\\AddEvent.js\";\nimport React, { Component } from 'react';\nimport { Consumer } from '../../context';\nimport TextInputGroup from '../layout/TextInputGroup'; //import {v1 as uuid} from 'uuid';\n\nimport axios from 'axios';\n\nclass AddEvent extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      name: '',\n      description: '',\n      location: '',\n      errors: {}\n    };\n\n    this.onSubmit = (dispatch, e) => {\n      e.preventDefault();\n      const {\n        name,\n        description,\n        location\n      } = this.state; //check for errors\n\n      if (name === '') {\n        this.setState({\n          errors: {\n            name: 'Name is required'\n          }\n        });\n        return;\n      }\n\n      if (description === '') {\n        this.setState({\n          errors: {\n            description: 'Description is required'\n          }\n        });\n        return;\n      }\n\n      if (location === '') {\n        this.setState({\n          errors: {\n            location: 'Location is required'\n          }\n        });\n        return;\n      }\n\n      const newEvent = {\n        //id:uuid(),\n        name,\n        description,\n        location\n      };\n      axios.post('https://my-json-server.typicode.com/priya-12345/EventData/events/', newEvent).then(res => dispatch({\n        type: 'ADD_EVENT',\n        payload: res.data\n      }));\n      dispatch({\n        type: 'ADD_EVENT',\n        payload: newEvent\n      });\n      this.setState({\n        name: '',\n        description: '',\n        location: '',\n        errors: {}\n      });\n      this.props.history.push('/');\n    };\n\n    this.onChange = e => this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  render() {\n    const {\n      name,\n      description,\n      location,\n      errors\n    } = this.state;\n    return /*#__PURE__*/React.createElement(Consumer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }\n    }, value => {\n      const {\n        dispatch\n      } = value;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 1\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card-header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 17\n        }\n      }, \"Add Event\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card-body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.onSubmit.bind(this, dispatch),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 1\n        }\n      }, /*#__PURE__*/React.createElement(TextInputGroup, {\n        label: \"Name\",\n        name: \"name\",\n        placeholder: \"Enter Name\",\n        value: name,\n        onChange: this.onChange,\n        errors: errors.name,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 1\n        }\n      }), /*#__PURE__*/React.createElement(TextInputGroup, {\n        label: \"Description\",\n        name: \"description\",\n        placeholder: \"Enter Description\",\n        value: description,\n        onChange: this.onChange,\n        errors: errors.description,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 1\n        }\n      }), /*#__PURE__*/React.createElement(TextInputGroup, {\n        label: \"Location\",\n        name: \"location\",\n        placeholder: \"Enter Location\",\n        value: location,\n        onChange: this.onChange,\n        errors: errors.location,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 1\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"submit\",\n        value: \"Add Event\",\n        className: \"btn btn-light btn-block\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 1\n        }\n      }))));\n    });\n  }\n\n}\n\nexport default AddEvent;","map":{"version":3,"sources":["C:/Projects/eventfinder/src/components/events/AddEvent.js"],"names":["React","Component","Consumer","TextInputGroup","axios","AddEvent","state","name","description","location","errors","onSubmit","dispatch","e","preventDefault","setState","newEvent","post","then","res","type","payload","data","props","history","push","onChange","target","value","render","bind"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport {Consumer} from '../../context';\r\nimport TextInputGroup from '../layout/TextInputGroup';\r\n//import {v1 as uuid} from 'uuid';\r\nimport axios from 'axios';\r\n\r\n class AddEvent extends Component {\r\nstate={\r\n    name:'',\r\n    description:'',\r\n    location:'',\r\n    errors:{}\r\n};\r\nonSubmit=(dispatch,e)=>{\r\n    e.preventDefault();\r\n    const{name,description,location}=this.state;\r\n//check for errors\r\n\r\nif(name===''){\r\n    this.setState({errors: {name:'Name is required'}});\r\n    return;\r\n}\r\n\r\nif(description===''){\r\n    this.setState({errors: {description:'Description is required'}});\r\n    return;\r\n}\r\n\r\nif(location===''){\r\n    this.setState({errors: {location:'Location is required'}});\r\n    return;\r\n}\r\n\r\n\r\n    const newEvent={\r\n        //id:uuid(),\r\n        name,description,location\r\n    };\r\n\r\naxios.post('https://my-json-server.typicode.com/priya-12345/EventData/events/',newEvent).then(\r\n    res=>  dispatch({type:'ADD_EVENT',payload:res.data})\r\n)\r\n\r\n    dispatch({type:'ADD_EVENT',payload:newEvent});\r\n    this.setState({\r\n        name:'',\r\n        description:'',\r\n        location:'',\r\n        errors:{}\r\n    });\r\n    this.props.history.push('/');\r\n};\r\nonChange=(e)=>this.setState({[e.target.name]:e.target.value});\r\n\r\n    render() {\r\n        const{ name,description,location,errors}=this.state;\r\n        return(\r\n            <Consumer>\r\n                {value=>{\r\nconst{dispatch}\r\n=value;\r\nreturn(\r\n<div className=\"card mb-3\">\r\n                <div className=\"card-header\">Add Event</div>\r\n                <div className=\"card-body\">\r\n<form onSubmit={this.onSubmit.bind(this,dispatch)}>\r\n<TextInputGroup\r\nlabel=\"Name\"\r\nname=\"name\"\r\nplaceholder=\"Enter Name\"\r\nvalue={name}\r\nonChange={this.onChange}\r\nerrors={errors.name}\r\n/>\r\n\r\n<TextInputGroup\r\nlabel=\"Description\"\r\nname=\"description\"\r\nplaceholder=\"Enter Description\"\r\nvalue={description}\r\nonChange={this.onChange}\r\nerrors={errors.description}\r\n/>\r\n\r\n<TextInputGroup\r\nlabel=\"Location\"\r\nname=\"location\"\r\nplaceholder=\"Enter Location\"\r\nvalue={location}\r\nonChange={this.onChange}\r\nerrors={errors.location}\r\n/>\r\n<input type=\"submit\" value=\"Add Event\" className=\"btn btn-light btn-block\"/>\r\n</form>\r\n                    </div>\r\n            </div>\r\n\r\n)\r\n\r\n                }}\r\n            </Consumer>\r\n        )\r\n        \r\n    }\r\n}\r\n\r\nexport default AddEvent;"]},"metadata":{},"sourceType":"module"}