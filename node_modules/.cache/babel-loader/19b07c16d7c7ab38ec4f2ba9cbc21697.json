{"ast":null,"code":"import _defineProperty from\"C:\\\\Projects\\\\eventfinder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:\\\\Projects\\\\eventfinder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Projects\\\\eventfinder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Projects\\\\eventfinder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Projects\\\\eventfinder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';//import {Consumer} from '../../context';\nimport TextInputGroup from'../layout/TextInputGroup';//import {v1 as uuid} from 'uuid';\nimport axios from'axios';import{connect}from'react-redux';import{getEvent,updateEvent}from'../../actions/eventActions';var EditEvent=/*#__PURE__*/function(_Component){_inherits(EditEvent,_Component);var _super=_createSuper(EditEvent);function EditEvent(){var _this;_classCallCheck(this,EditEvent);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={name:'',description:'',location:'',errors:{}};_this.onSubmit=function(e){e.preventDefault();var _this$state=_this.state,name=_this$state.name,description=_this$state.description,location=_this$state.location;//check for errors\nif(name===''){_this.setState({errors:{name:'Name is required'}});return;}if(description===''){_this.setState({errors:{description:'Description is required'}});return;}if(location===''){_this.setState({errors:{location:'Location is required'}});return;}var id=_this.props.match.params.id;var updEvent={id:id,name:name,description:description,location:location};/////UPDATE EVENT////\n_this.props.updateEvent(updEvent);/* const res=await axios.put(`https://my-json-server.typicode.com/priya-12345/EventData/events/${id}`,updEvent);\r\n  dispatch({type:'UPDATE_EVENT',payload:res.data});*/ //CLEAR STATE\n_this.setState({name:'',description:'',location:'',errors:{}});_this.props.history.push('/');};_this.onChange=function(e){return _this.setState(_defineProperty({},e.target.name,e.target.value));};return _this;}_createClass(EditEvent,[{key:\"UNSAFE_componentWillReceiveProps\",value:function UNSAFE_componentWillReceiveProps(nextProps,nextState){var _nextProps$event=nextProps.event,name=_nextProps$event.name,description=_nextProps$event.description,location=_nextProps$event.location;this.setState({name:name,description:description,location:location});}},{key:\"componentDidMount\",value:function componentDidMount(){var id=this.props.match.params.id;this.props.getEvent(id);}},{key:\"render\",value:function render(){var _this$state2=this.state,name=_this$state2.name,description=_this$state2.description,location=_this$state2.location,errors=_this$state2.errors;return/*#__PURE__*/React.createElement(\"div\",{className:\"card mb-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-header\"},\"Edit Event\"),/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.onSubmit},/*#__PURE__*/React.createElement(TextInputGroup,{label:\"Name\",name:\"name\",placeholder:\"Enter Name\",value:name,onChange:this.onChange,errors:errors.name}),/*#__PURE__*/React.createElement(TextInputGroup,{label:\"Description\",name:\"description\",placeholder:\"Enter Description\",value:description,onChange:this.onChange,errors:errors.description}),/*#__PURE__*/React.createElement(TextInputGroup,{label:\"Location\",name:\"location\",placeholder:\"Enter Location\",value:location,onChange:this.onChange,errors:errors.location}),/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",value:\"Update Event\",className:\"btn btn-light btn-block\"}))));}}]);return EditEvent;}(Component);var mapStateToProps=function mapStateToProps(state){return{event:state.event.event};};export default connect(mapStateToProps,{getEvent:getEvent,updateEvent:updateEvent})(EditEvent);","map":{"version":3,"sources":["C:/Projects/eventfinder/src/components/events/EditEvent.js"],"names":["React","Component","TextInputGroup","axios","connect","getEvent","updateEvent","EditEvent","state","name","description","location","errors","onSubmit","e","preventDefault","setState","id","props","match","params","updEvent","history","push","onChange","target","value","nextProps","nextState","event","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n//import {Consumer} from '../../context';\r\nimport TextInputGroup from '../layout/TextInputGroup';\r\n//import {v1 as uuid} from 'uuid';\r\nimport axios from 'axios';\r\nimport PropTypes from 'prop-types';\r\nimport {connect} from 'react-redux';\r\nimport {getEvent,updateEvent} from '../../actions/eventActions';\r\n\r\n\r\n class EditEvent extends Component {\r\nstate={\r\n    name:'',\r\n    description:'',\r\n    location:'',\r\n    errors:{}\r\n};\r\n\r\nUNSAFE_componentWillReceiveProps(nextProps,nextState)\r\n{\r\n    const {name,description,location}=nextProps.event;\r\n    this.setState({\r\n        name, \r\n        description,\r\n        location\r\n    });\r\n\r\n}\r\ncomponentDidMount(){\r\n    const {id}=this.props.match.params;\r\n    this.props.getEvent(id);\r\n}\r\n\r\n\r\nonSubmit=e=>{\r\n    e.preventDefault();\r\n    const{name,description,location}=this.state;\r\n//check for errors\r\n\r\nif(name===''){\r\n    this.setState({errors: {name:'Name is required'}});\r\n    return;\r\n}\r\n\r\nif(description===''){\r\n    this.setState({errors: {description:'Description is required'}});\r\n    return;\r\n}\r\n\r\nif(location===''){\r\n    this.setState({errors: {location:'Location is required'}});\r\n    return;\r\n}\r\n\r\n\r\n   const {id}=this.props.match.params;\r\n\r\n   const updEvent={\r\n   id, name,\r\n    description,\r\n    location\r\n    \r\n    }\r\n/////UPDATE EVENT////\r\nthis.props.updateEvent(updEvent);\r\n\r\n\r\n\r\n /* const res=await axios.put(`https://my-json-server.typicode.com/priya-12345/EventData/events/${id}`,updEvent);\r\n  dispatch({type:'UPDATE_EVENT',payload:res.data});*/\r\n   \r\n  //CLEAR STATE\r\n  this.setState({\r\n        name:'',\r\n        description:'',\r\n        location:'',\r\n        errors:{}\r\n    });\r\n    this.props.history.push('/');\r\n};\r\nonChange=(e)=>this.setState({[e.target.name]:e.target.value});\r\n\r\n    render() {\r\n        const{ name,description,location,errors}=this.state;\r\n      \r\nreturn(\r\n<div className=\"card mb-3\">\r\n                <div className=\"card-header\">Edit Event</div>\r\n                <div className=\"card-body\">\r\n<form onSubmit={this.onSubmit}>\r\n<TextInputGroup\r\nlabel=\"Name\"\r\nname=\"name\"\r\nplaceholder=\"Enter Name\"\r\nvalue={name}\r\nonChange={this.onChange}\r\nerrors={errors.name}\r\n/>\r\n\r\n<TextInputGroup\r\nlabel=\"Description\"\r\nname=\"description\"\r\nplaceholder=\"Enter Description\"\r\nvalue={description}\r\nonChange={this.onChange}\r\nerrors={errors.description}\r\n/>\r\n\r\n<TextInputGroup\r\nlabel=\"Location\"\r\nname=\"location\"\r\nplaceholder=\"Enter Location\"\r\nvalue={location}\r\nonChange={this.onChange}\r\nerrors={errors.location}\r\n/>\r\n<input type=\"submit\" value=\"Update Event\" className=\"btn btn-light btn-block\"/>\r\n</form>\r\n                    </div>\r\n            </div>\r\n\r\n)\r\n\r\n                }}\r\n   EditEvent.propTypes={\r\n       event:PropTypes.object.isRequired,\r\n       getEvent:PropTypes.func.isRequired\r\n   }\r\n                const mapStateToProps=state=>({\r\n                    event:state.event.event\r\n                });\r\n\r\n               \r\n\r\nexport default connect(mapStateToProps,{getEvent,updateEvent}) (EditEvent);"]},"metadata":{},"sourceType":"module"}