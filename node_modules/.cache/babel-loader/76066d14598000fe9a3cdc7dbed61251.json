{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Projects\\\\eventfinder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Projects\\\\eventfinder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\Projects\\\\eventfinder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Projects\\\\eventfinder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Projects\\\\eventfinder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Projects\\\\eventfinder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import _toConsumableArray from\"C:\\\\Projects\\\\eventfinder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"C:\\\\Projects\\\\eventfinder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import React,{Component}from'react';import axios from'axios';var Context=React.createContext();var reducer=function reducer(state,action){switch(action.type){case'DELETE_EVENT':return _objectSpread(_objectSpread({},state),{},{events:state.events.filter(function(event){return event.id!==action.payload;})});case'ADD_EVENT':return _objectSpread(_objectSpread({},state),{},{events:[action.payload].concat(_toConsumableArray(state.events))});case'UPDATE_EVENT':return _objectSpread(_objectSpread({},state),{},{events:state.events.map(function(event){return event.id===action.payload.id?event=action.payload:event;})});default:return state;}};export var Provider=/*#__PURE__*/function(_Component){_inherits(Provider,_Component);var _super=_createSuper(Provider);function Provider(){var _this;_classCallCheck(this,Provider);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={events:[/* {\r\n    id:1,\r\n    name:'Slate & Crystal Events',\r\n    description:'abc',\r\n    location:'Switzerland'\r\n    \r\n    },\r\n    {\r\n        id:2,\r\n        name :'Indigo Event Planning',\r\n        description:'xyz',\r\n        location:'kalyan'\r\n        \r\n        },\r\n        {\r\n            id:3,\r\n            name:'Buttercup Events',\r\n            description:'pqr',\r\n            location:'Paris'\r\n            \r\n            }*/],dispatch:function dispatch(action){return _this.setState(function(state){return reducer(state,action);});}};return _this;}_createClass(Provider,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('https://my-json-server.typicode.com/priya-12345/EventData/events');case 2:res=_context.sent;this.setState({events:res.data});case 4:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(Context.Provider,{value:this.state},this.props.children);}}]);return Provider;}(Component);export var Consumer=Context.Consumer;","map":{"version":3,"sources":["C:/Projects/eventfinder/src/context.js"],"names":["React","Component","axios","Context","createContext","reducer","state","action","type","events","filter","event","id","payload","map","Provider","dispatch","setState","get","res","data","props","children","Consumer"],"mappings":"4pCAAA,MAAOA,CAAAA,KAAP,EAAcC,SAAd,KAA8B,OAA9B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,GAAMC,CAAAA,OAAO,CAACH,KAAK,CAACI,aAAN,EAAd,CACA,GAAMC,CAAAA,OAAO,CAAC,QAARA,CAAAA,OAAQ,CAACC,KAAD,CAAOC,MAAP,CAAgB,CAC1B,OAAOA,MAAM,CAACC,IAAd,EACJ,IAAK,cAAL,CACI,sCACOF,KADP,MAEIG,MAAM,CAACH,KAAK,CAACG,MAAN,CAAaC,MAAb,CAAoB,SAAAC,KAAK,QAC5BA,CAAAA,KAAK,CAACC,EAAN,GAAWL,MAAM,CAACM,OADU,EAAzB,CAFX,GAKA,IAAK,WAAL,CACA,sCACOP,KADP,MAEIG,MAAM,EAAEF,MAAM,CAACM,OAAT,4BAAoBP,KAAK,CAACG,MAA1B,EAFV,GAIA,IAAK,cAAL,CACA,sCACOH,KADP,MAEIG,MAAM,CAACH,KAAK,CAACG,MAAN,CAAaK,GAAb,CAAiB,SAAAH,KAAK,QACzBA,CAAAA,KAAK,CAACC,EAAN,GAAWL,MAAM,CAACM,OAAP,CAAeD,EAA1B,CAAgCD,KAAK,CAChCJ,MAAM,CAACM,OADZ,CACqBF,KAFI,EAAtB,CAFX,GAMJ,QAAQ,MAAOL,CAAAA,KAAP,CAnBJ,CAqBH,CAtBD,CAwBA,UAAaS,CAAAA,QAAb,mUAEAT,KAFA,CAEM,CACFG,MAAM,CAAC,CACJ;;;;;;;;;;;;;;;;;;;;eADI,CADL,CAwBFO,QAAQ,CAAE,kBAAAT,MAAM,QAAI,OAAKU,QAAL,CAAc,SAAAX,KAAK,QACnCD,CAAAA,OAAO,CAACC,KAAD,CAAOC,MAAP,CAD4B,EAAnB,CAAJ,EAxBd,CAFN,gUAgCgBL,CAAAA,KAAK,CAACgB,GAAN,CAAU,kEAAV,CAhChB,QAgCMC,GAhCN,eAiCA,KAAKF,QAAL,CAAc,CAACR,MAAM,CAACU,GAAG,CAACC,IAAZ,CAAd,EAjCA,+MAqCA,CACI,mBACI,oBAAC,OAAD,CAAS,QAAT,EAAkB,KAAK,CAAE,KAAKd,KAA9B,EACK,KAAKe,KAAL,CAAWC,QADhB,CADJ,CAKH,CA3CD,sBAA8BrB,SAA9B,EA8CA,MAAO,IAAMsB,CAAAA,QAAQ,CAACpB,OAAO,CAACoB,QAAvB","sourcesContent":["import React,{Component} from 'react';\r\nimport axios from 'axios';\r\n\r\nconst Context=React.createContext();\r\nconst reducer=(state,action)=>{\r\n    switch(action.type){\r\ncase 'DELETE_EVENT':\r\n    return{\r\n        ...state,\r\n        events:state.events.filter(event=>\r\n            event.id!==action.payload)\r\n    };\r\n    case 'ADD_EVENT':\r\n    return{\r\n        ...state,\r\n        events:[action.payload,...state.events]\r\n    };\r\n    case 'UPDATE_EVENT':\r\n    return{\r\n        ...state,\r\n        events:state.events.map(event=>\r\n            event.id===action.payload.id ? (event\r\n                =action.payload):event)\r\n    };\r\ndefault:return state;\r\n    }\r\n}\r\n\r\nexport class Provider extends Component{\r\n\r\nstate={\r\n    events:[\r\n       /* {\r\n    id:1,\r\n    name:'Slate & Crystal Events',\r\n    description:'abc',\r\n    location:'Switzerland'\r\n    \r\n    },\r\n    {\r\n        id:2,\r\n        name :'Indigo Event Planning',\r\n        description:'xyz',\r\n        location:'kalyan'\r\n        \r\n        },\r\n        {\r\n            id:3,\r\n            name:'Buttercup Events',\r\n            description:'pqr',\r\n            location:'Paris'\r\n            \r\n            }*/\r\n    ],\r\n    dispatch: action => this.setState(state =>\r\n        reducer(state,action))\r\n};\r\n\r\nasync componentDidMount()\r\n{\r\nconst res=await axios.get('https://my-json-server.typicode.com/priya-12345/EventData/events');\r\nthis.setState({events:res.data});\r\n\r\n}\r\nrender()\r\n{\r\n    return(\r\n        <Context.Provider value={this.state}>\r\n            {this.props.children}\r\n        </Context.Provider>\r\n    )\r\n}\r\n}\r\n\r\nexport const Consumer=Context.Consumer;\r\n"]},"metadata":{},"sourceType":"module"}